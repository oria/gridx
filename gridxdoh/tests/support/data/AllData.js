define([
	'dojo/_base/Color'
], function(Color){

	var genres = [
		"",
		"Blues",
		"Classic Rock",
		"Classical",
		"Easy Listening",
		"Jazz",
		"Progressive Rock",
		"Rock",
		"Pop and R&B",
		"World"
	];

	var artists = [
		"",
		"Andres Segovia",
		"Andy Narell",
		"Andy Statman Quartet",
		"Andy Statman & David Grisman",
		"B.B. King",
		"Bette Midler",
		"Bill Evans",
		"Black Sabbath",
		"Blood, Sweat & Tears",
		"Buddy Guy",
		"Charlie Hunter",
		"Dave Matthews",
		"Dixie dregs",
		"Emerson, Lake & Palmer",
		"Frank Sinatra",
		"Jimi Hendrix",
		"Joni Mitchell",
		"Julian Bream"
	];

	var albums = [
		"",
		"80",
		"Affinity",
		"Are You Experienced",
		"Before These Crowded Streets",
		"Bette Midler Sings the Rosemary Clooney Songbook",
		"Between Heaven & Earth",
		"Black Sabbath",
		"Blood, Sweat & Tears",
		"Both Sides Now",
		"Brain Salad Surgery [Rhino]",
		"Child Is Father To The Man",
		"Court And Spark",
		"Crash",
		"Damn Right, I've Got The Blues",
		"Deuces Wild",
		"Down the Road",
		"Electric Ladyland",
		"Everybody Digs Bill Evans",
		"Experience the Divine",
		"Feels Like Rain",
		"Free Fall",
		"Fret Works: Dowland & Villa-Lobos",
		"Friends Seen and Unseen",
		"Interplay",
		"Julian Bream Edition, Vol. 20",
		"Little Secrets",
		"Master of Reality",
		"Nocturnal",
		"Sinatra Reprise: The Very Good Years",
		"Sinatra and Swinging Brass",
		"Songs Of Our Fathers",
		"The Art Of Segovia [Disc 1]",
		"The Atlantic Years",
		"The Best Of Andres Segovia",
		"The Capitol Years [Disc 1]",
		"What if"
	];

	var songs = [
		"",
		"...And the Gods Made Love",
		"After Forever",
		"Answer Me My Love",
		"Armchair Psychology",
		"Asturias (Suite Espanola, Op. 47)",
		"At Last",
		"Bach: Lute Suite In A Minor, BWV 997 - Praeludium",
		"Bach: Lute Suite In E Minor, BWV 996 - Sarabande",
		"Black Sabbath",
		"Bouree (Suite In E Minor, BWV 996 - Bach)",
		"Britten: Nocturnal - 1. Musingly (Meditativo)",
		"Change in the Weather",
		"Chapel Of Love",
		"Chassidic Medley: Adir Hu / Moshe Emes",
		"Come On, Pt. 1",
		"Come On-A My House",
		"Comes Love",
		"Court And Spark",
		"Crash Into Me",
		"Crosstown Traffic",
		"Der Rebbe",
		"Dig the Ditch",
		"Disorderly Conduct",
		"Don't Drink the Water",
		"Don't Look Back",
		"Dovid Melech Yisrael",
		"Early in the Morning",
		"Eleven Bars for Gandhi",
		"Fanfare For The Common Man",
		"Fantasia",
		"Five Long Years",
		"Free Fall",
		"From A Distance",
		"Green Ballet: 2nd Position for Steel Orchestra",
		"Have You Ever Been (To Electric Ladyland)",
		"Help Me",
		"Hey There",
		"Holiday",
		"Hummingbird",
		"I Do It For Your Love",
		"I Go Crazy",
		"I Love You More Than You'll Ever Know",
		"I'll Never Smile Again (Take 7)",
		"Into the Void",
		"It Was A Very Good Year",
		"Jerusalem",
		"Just One Smile",
		"King of Denmark's Galliard",
		"L'Ma'an Achai V'Re'ei",
		"Lachrimae Antiquae Galliard",
		"Let You Down",
		"Little Kids",
		"Long Hot Summer Night",
		"Love Or Confusion",
		"Luck Be A Lady",
		"Martin: Quatre Pi√®ces Breves - 3. Plainte: Sans Lenteur",
		"Minority",
		"Miss Ottis Regrets",
		"More And More",
		"Night and Day",
		"One for the Kelpers",
		"Overture",
		"Purple Haze",
		"Queen Elizabeth's Galliard",
		"Recuerdos De La Alhambra",
		"Rock Me Baby",
		"Serenade in Blue",
		"She's Nineteen Years Old",
		"Sleep",
		"Smiling Phases",
		"Someone To Watch Over Me",
		"Somethin' Goin' On",
		"Stay (Wasting Time)",
		"Sufferin' Mind",
		"Sugar Street",
		"Sweet Leaf",
		"Tank",
		"Tarkus",
		"Tarrega: Recuerdos de la Alhambra",
		"The Days of Wine and Roses",
		"The Endless Enigma (Part 1)",
		"The Last Stop",
		"The Other Side of Midnight (Noelle's Theme)",
		"The Thrill Is Gone",
		"The Way You Look Tonight",
		"The Wind Cries Mary",
		"There Must Be A Better World Somewhere",
		"This Ole House",
		"Too Much",
		"Two Step",
		"Tzamah Nafshi",
		"Voodoo Chile",
		"We Kinda Music",
		"What Is There to Say?",
		"What if",
		"Wrap Your Troubles In Dreams (And Dream Your Troubles Away)",
		"You And The Night And The Music",
		"You'll Never Know",
		"You're My Thrill"
	];

	var composers = [
		"",
		"Andy Narell",
		"Arthur Schwartz/Howard Dietz",
		"B.B. King/Joe Josea",
		"Beauford, Carter/Matthews, David J.",
		"Benjamin Britten",
		"Bill Ward/Geezer Butler/Ozzy Osbourne/Tony Iommi",
		"Billy Moll/Harry Barris/Ted Koehler",
		"Carl Palmer/Keith Emerson",
		"Carl Sigman/Gerhard Winkler/Fred Rauch",
		"Charles Hubert Hastings Parry/William Blake",
		"Charles Tobias/Sammy Stept/Lew Brown",
		"Charlie Hunter",
		"Cole Porter",
		"D. Fields/J. Kern",
		"Dave Matthews",
		"Don Juan, Pea Vee",
		"Duke",
		"E. Drake",
		"E. Jones",
		"Earl King",
		"Eddie Boyd/John Lee Hooker",
		"Ellie Greenwich/Jeff Barry/Phil Spector",
		"F. Loesser",
		"Francisco Tarrega",
		"Frank Martin",
		"George & Ira Gershwin/George Gershwin",
		"Gigi Gryce",
		"Greg Lake/Keith Emerson",
		"Hamblen, Stuart 1908-1989",
		"Harry Warren, Mack Gordon",
		"Henry Mancini, Johnny Mercer",
		"Isaac Albeniz",
		"James Brown",
		"Jay Gorney/Sindney Clare",
		"Jim Capaldi, Steve Winwood, Chris Wood",
		"Jimi Hendrix",
		"Johann Sebastian Bach",
		"Johann Sebastian Bach (1685-1750)",
		"John Dowland",
		"John Ellis",
		"John Fogerty",
		"Joni Mitchell",
		"Julie Gold",
		"Karlin-Stolin",
		"Lessard, Stefan/Beauford, Carter",
		"Lessard, Stefan/Beauford, Carter/Moore, Leroi",
		"Mack Gordon/Harry Warren",
		"Michel Legrand",
		"Muddy Waters",
		"Paul Simon",
		"Rebennack/Pomus",
		"Ross, Jerry 1926-1956 -w Adler, Richard 1921-",
		"Ruth Lowe",
		"Saroyan, William 1908-1981 -w Bagdasarian, Ross 1919-1972",
		"Shlomo Carlebach",
		"Shlomo Carlebach; Trad.",
		"Steve Morse",
		"Steven J. Morse",
		"Tony Iommi",
		"Trad.",
		"Vince Mendoza",
		"Warren, Harry 1893-1981 -w Gordon, Mac 1904-1959"
	];

	var names = [
		"",
		"Acai", 
		"Aceola",
		"Apple",
		"Apricots",
		"Avocado",
		"Banana",
		"Blackberry",
		"Blueberries",
		"Camu Camu berry",
		"Cherries",
		"Coconut",
		"Cranberry",
		"Cucumber",
		"Currents",
		"Dates",
		"Durian",
		"Fig",
		"Goji berries",
		"Gooseberry",
		"Grapefruit",
		"Grapes",
		"Jackfruit",
		"Kiwi",
		"Kumquat",
		"Lemon",
		"Lime",
		"Lucuma",
		"Lychee", 
		"Mango",
		"Mangosteen",
		"Melon",
		"Mulberry",
		"Nectarine",
		"Orange",
		"Papaya",
		"Passion Fruit",
		"Peach",
		"Pear",
		"Pineapple",
		"Plum",
		"Pomegranate",
		"Pomelo", 
		"Prickly Pear",
		"Prunes",
		"Raspberries",
		"Strawberries",
		"Tangerine/Clementine",
		"Watermelon"
	];

	var servers = [
		"",
		"Capricorn", 
		"Aquarius", 
		"Pisces", 
		"Aries", 
		"Taurus", 
		"Gemini", 
		"Cancer", 
		"Leo", 
		"Virgo", 
		"Libra", 
		"Scorpio", 
		"Sagittarius"
	];

	var platforms = [
		"",
		"Windows XP",
		"Windows 7",
		"Redhat Linux 6",
		"Macintosh 10.5.4",
		"Ubuntu Linux 11.10",
		"Ubuntu Linux 11.04",
		"AIX",
		"iOS",
		"Google Chrome OS",
		"Xenix",
		"Solaris",
		"FreeBSD"
	];

	var status = [
		"",
		"Normal",
		"Warning",
		"Critical"
	];

	var dates = [
		"2008/12/29",
		"2015/2/12",
		"1967/12/16",
		"1976/5/5",
		"2022/6/9",
		"1923/10/17",
		"2018/8/13",
		"2032/11/21",
		"2008/6/9",
		"2001/12/27",
		"1926/6/26",
		"1943/9/16",
		"1959/10/10",
		"1973/1/5",
		"1989/6/5",
		"2012/10/6",
		"2006/3/2",
		"1927/5/24",
		"2004/5/23",
		"1914/5/21",
		"1909/8/12",
		"1978/10/15",
		"1986/5/4",
		"1932/7/16",
		"1946/8/23",
		"1901/5/3",
		"2032/12/26",
		"1947/12/6",
		"2013/12/5",
		"1902/10/12",
		"1941/4/23",
		"1938/6/17",
		"1962/4/10",
		"1902/4/7",
		"1923/4/9",
		"2016/4/6",
		"1921/3/29",
		"1994/10/6",
		"1906/9/20",
		"2021/5/21",
		"1906/1/5",
		"2008/3/1",
		"2035/2/9",
		"1926/1/4",
		"1933/3/16",
		"1927/11/19",
		"2035/8/13",
		"1943/9/1",
		"1917/9/28",
		"1997/6/25",
		"2029/2/25",
		"2022/6/6",
		"1913/1/27",
		"2017/1/6",
		"2020/1/13",
		"1929/1/24",
		"1900/8/15",
		"1907/4/11",
		"1992/3/28",
		"1949/9/13",
		"2036/5/26",
		"1993/6/13",
		"1906/3/11",
		"2035/4/12",
		"1946/10/11",
		"1912/10/25",
		"1912/6/9",
		"1996/4/7",
		"2020/5/12",
		"2023/7/1",
		"1971/2/24",
		"2007/10/27",
		"1977/6/30",
		"1938/7/16",
		"1908/7/24",
		"1921/12/8",
		"1904/10/25",
		"2025/6/27",
		"1988/6/13",
		"2019/4/14",
		"1997/12/14",
		"1996/8/31",
		"1961/12/22",
		"1955/2/12",
		"1996/11/14",
		"1973/9/24",
		"1979/5/27",
		"1906/3/22",
		"2019/8/19",
		"2032/12/25",
		"1949/6/29",
		"1953/5/20",
		"1973/9/11",
		"2002/10/10",
		"2010/4/15",
		"1905/5/22",
		"1904/4/4",
		"1907/3/5",
		"1904/12/18",
		"1994/11/29"
	];

	var times = [
		"18:33:45",
		"00:39:23",
		"23:23:26",
		"15:42:11",
		"08:40:19",
		"14:09:23",
		"19:21:34",
		"08:23:26",
		"15:53:26",
		"10:46:53",
		"16:52:30",
		"12:14:04",
		"10:21:34",
		"18:45:00",
		"04:24:23",
		"04:10:19",
		"18:28:08",
		"13:27:11",
		"22:49:41",
		"22:55:19",
		"03:16:53",
		"11:54:23",
		"20:54:23",
		"08:15:00",
		"06:30:56",
		"10:27:11",
		"07:49:41",
		"03:47:49",
		"09:59:04",
		"23:09:23",
		"04:52:30",
		"10:04:41",
		"19:52:30",
		"16:58:08",
		"04:32:49",
		"18:28:08",
		"13:38:26",
		"18:00:00",
		"21:16:53",
		"11:45:56",
		"20:20:38",
		"14:48:45",
		"00:11:15",
		"00:02:49",
		"21:00:00",
		"02:34:41",
		"17:17:49",
		"15:59:04",
		"09:42:11",
		"20:57:11",
		"21:14:04",
		"01:27:11",
		"13:49:41",
		"05:54:23",
		"08:23:26",
		"08:51:34",
		"04:01:53",
		"17:37:30",
		"00:22:30",
		"16:01:53",
		"22:10:19",
		"03:28:08",
		"17:54:23",
		"06:16:53",
		"09:14:04",
		"07:01:53",
		"09:30:56",
		"03:53:26",
		"15:25:19",
		"23:00:56",
		"01:01:53",
		"20:23:26",
		"08:00:56",
		"00:56:15",
		"16:38:26",
		"16:55:19",
		"06:59:04",
		"12:14:04",
		"09:22:30",
		"16:21:34",
		"01:13:08",
		"03:39:23",
		"23:40:19",
		"01:49:41",
		"00:36:34",
		"15:02:49",
		"21:22:30",
		"21:56:15",
		"12:45:00",
		"07:30:00",
		"01:24:23",
		"10:24:23",
		"19:49:41",
		"01:21:34",
		"01:13:08",
		"23:43:08",
		"18:28:08",
		"23:29:04",
		"03:00:00",
		"03:25:19"
	];

	var progresses = [0, 0.2, 0.5, 0.7, 0.3, 0.4, 0.9, 0.6, 0.8, 0.1];

	var seed = 9973;

	var randomNumber = function(range){
		var a = 8887;
		var c = 9643;
		var m = 8677;
		seed = (a * seed + c) % m;
		var res = Math.floor(seed / m * range);
		return res;
	};

	var randomDate = function(){
		return new Date(randomNumber(10000000000000));
	};

	var chars = "0,1,2,3, ,4,5,6,7, ,8,9,a,b, ,c,d,e,f, ,g,h,i,j, ,k,l,m,n, ,k,o,p,q, ,r,s,t,u, ,v,w,x,y, ,z".split(',');
	var randomString = function(){
		var len = randomNumber(50), i, str = [];
		for(i = 0; i < len; ++i){
			str.push(chars[randomNumber(chars.length)]);
		}
		return str.join('');
	};

	function getRandom(arr){
		return arr[randomNumber(arr.length)];
	}

	function getId(parentId, index){
		if(parentId === ''){
			return index + 1;
		}
		return parentId + "-" + (index + 1);
	}

	function generateItem(parentId, index){
		var item = {
			id: getId(parentId, index),
			order: index,

			Genre: getRandom(genres),
			Artist: getRandom(artists),
			Album: getRandom(albums),
			Name: getRandom(songs),
			Composer: getRandom(composers),
			Track: randomNumber(20),
			Year: 1910 + randomNumber(100),
			"Download Date": getRandom(dates),
			"Last Played": getRandom(times),
			Length: randomNumber(24) + ':' + randomNumber(60),
			Heard: randomNumber(10) < 5,
			Color: new Color([randomNumber(255), randomNumber(255), randomNumber(255)]).toHex(),

			name: getRandom(names),
			server: getRandom(servers),
			platform: getRandom(platforms),
			status: getRandom(status),
			progress: getRandom(progresses),

			number: randomNumber(10000),
			string: randomString(),
			date: randomDate().toDateString(),
			time: randomDate().toTimeString().split(' ')[0],
			bool: randomNumber(10) < 5
		};
		return item;
	}

	function generateLevel(parentId, level, maxLevel, maxChildrenCount, minChildrenCount, size){
		var i, item, res = [];
		var childrenCount = size < 0 ? minChildrenCount + randomNumber(maxChildrenCount - minChildrenCount) : size;
		for(i = 0; i < childrenCount; ++i){
			item = generateItem(parentId, i);
			res.push(item);
			if(level < maxLevel){
				item.children = generateLevel(item.id, level + 1, maxLevel, maxChildrenCount, minChildrenCount, -1);
			}
		}
		return res;
	}

	return {
		resetSeed: function(){
			seed = 9973;
		},
		getData: function(args){
			return {
				identifier: 'id',
				label: 'id',
				items: generateLevel(args.baseId || '', 1, args.maxLevel || 1, args.maxChildrenCount || 10, args.minChildrenCount || 0, args.size)
			};
		},
		emptyItem: function(parentId, index){
			var item = {
				id: getId(parentId, index),
				order: index
			};
			return item;
		},
		generateItem: generateItem
	};
});
