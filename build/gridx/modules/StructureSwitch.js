//>>built
define("gridx/modules/StructureSwitch",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","../core/_Module"],function(e,f,d,g){e.experimental("gridx/modules/StructureSwitch");return f(g,{name:"structureSwitch",required:["hiddenColumns"],"default":"",orientation:!0,constructor:function(){var a=this.arg("config")||{},b=this.arg("condition")||{};this.arg("orientation")&&(a.portrait&&(b.portrait=function(){return"orientation"in window&&0===window.orientation}),a.landscape&&(b.portrait=function(){return 90==
Math.abs(window.orientation)}),this.connect(window,"orientationchange","check"))},preload:function(){var a=this.config[this.arg("default")];if(a){var b=d.filter(d.map(this.grid._columns,function(a){return a.id}),function(b){return 0>d.indexOf(a,b)});[].push.apply(this.grid.hiddenColumns.arg("init",[]),b)}},load:function(a,b){var c=this;b.then(function(){c.check();c.loaded.callback()})},to:function(a){var b=this.grid,c=this.config[a];!c&&""===a&&(c=d.map(b.structure,function(a){return a.id}));if(c){a=
b.hiddenColumns;var e=d.filter(b._columns,function(a){return 0>d.indexOf(c,a.id)}),f=d.filter(c,function(a){return!b._columnsById[a.id]});a.add.apply(a,e);a.remove.apply(a,f)}return!!c},check:function(){for(var a in this.condition)if(this.condition[a](this.grid)&&this.to(a))return this.grid.resize(),a;return null}})});
//@ sourceMappingURL=StructureSwitch.js.map